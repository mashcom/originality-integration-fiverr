{% extends "base_generic.html" %}

{% block title %}{{ section.title }}{% endblock %}

{% block content %}
    <h2 class="font-weight-bold mb-4 display-font"><i class="bi bi-diagram-3"></i> Originality &trade; Report</h2>

    <div class="card mb-3 shadow-md">
        <div class="card-header fw-bold"><span class="text-muted fw-bold">Assignment Details</span>
        </div>

        <div class="card-body">
            {#        {{ course_details }}#}
            <h4 class="mb-3 fw-bold">{{ course_details.name }}</h4>
            <h5 class="mb-3 fw-bold">{{ assignment.title }}</h5>
            <p>{{ assignment.description }}</p>
            {% for material in assignment.materials %}
                {#                    {{ material.driveFile.driveFile }}#}
                <a href="{{ material.driveFile.driveFile.alternateLink }}" target="_blank"
                   class="badge rounded-pill text-bg-light p-2" style="background-color: #bcc0c4 !important;">
                    {{ material.driveFile.driveFile.title }}</a>

            {% endfor %}

        </div>

    </div>

    <div class="card mb-3 shadow-md">
        {% if messages %}
            {% for message in messages %}
                <div {% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</div>
            {% endfor %}
        {% endif %}
        <div class="card-header fw-bold"><h4 class="fw-bold">Reports from Originality &trade;</h4>
        </div>

        <div class="card-body">

            <table class="table table-striped table-bordered">
                <tr>
                    <td class="fw-bold">Originality ID</td>
                    <td class="fw-bold">Grade</td>
                    <td class="fw-bold">Date</td>
                    <td class="fw-bold">File</td>
                </tr>
                {% for report in reports %}
                    <tr>
                        <td>
                            <span class="fw-bold">{{ report.profile.name.fullName }}</span><br/>
                            {{ report.profile.emailAddress }}<br/>
                            Report ID: {{ report.id }}<br/>
                        </td>
                        <td class="fw-bold">{{ report.grade }}</td>
                        <td>{{ report.created_at }}</td>
                        <td><a target="_blank" href="{% url "download_report" report.id %}"
                               class="btn btn-outline-danger text-uppercase fw-bold"><i
                                class="bi bi-filetype-pdf"></i> Download
                            Report</a></td>
                    </tr>
                {% endfor %}
            </table>

        </div>

    </div>


{% endblock %}

