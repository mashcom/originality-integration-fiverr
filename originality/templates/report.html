{% extends "base_generic.html" %}

{% block title %}{{ section.title }}{% endblock %}

{% block content %}
<h2 class="font-weight-bold mb-4 display-font"><i class="bi bi-diagram-3"></i> Originality &trade; Report</h2>

<div class="card mb-3 shadow-md">
    <div class="card-header fw-bold"><span class="text-muted fw-bold">Assignment Details</span>
    </div>

    <div class="card-body">
        <h4 class="mb-3 fw-bold">Course: {{ course_details.name }}</h4>
        <h5 class="mb-3 fw-bold">Assignment: {{ assignment.title }}</h5>
        <p>{{ assignment.description }}</p>
        {% for material in assignment.materials %}
        {# {{ material.driveFile.driveFile }}#}
        <a href="{{ material.driveFile.driveFile.alternateLink }}" target="_blank"
           class="badge rounded-pill text-bg-light p-2" style="background-color: #bcc0c4 !important;">
            {{ material.driveFile.driveFile.title }}</a>

        {% endfor %}

    </div>

</div>

<div class="card mb-3 shadow-md">
    {% if messages %}
    {% for message in messages %}
    <div {% if message.tags %} class="{{ message.tags }}" {% endif %}>{{ message }}</div>
    {% endfor %}
    {% endif %}
    <div class="card-header fw-bold"><h4 class="fw-bold">Reports from Originality &trade;</h4>
    </div>

    <div class="card-body">

        <table class="table table-striped table-bordered data-table">
            <thead class="text-uppercase table-dark">
            <tr>
                <th class="fw-bold">Full Name</th>
                <th class="fw-bold">Email</th>
                <!--                <th class="fw-bold">Ghost Writer</th>-->
                <th class="fw-bold">% Original</th>
                <th class="fw-bold">Date</th>
                <th class="fw-bold"></th>
            </tr>
            </thead>
            {% for report in reports %}
            <tbody>
            <tr>
                <td class="fw-bold">
                    {{ report.profile.first_name }} {{ report.profile.last_name }}
                </td>
                <td>{{ report.profile.email }}</td>
                <!--                <td class="fw-bold">{{ report.file_name }}</td>-->
                <!--                <td>{{report.ghostwrite_report}}</td>-->
                <td class="fw-bold">{{ report.grade }}</td>
                <td>{{ report.created_at }}</td>
                <td>
                    <a target="_blank" href="{% url 'download_report' report.id %}"
                       class="btn btn-outline-danger float-end text-uppercase fw-bold"><i
                            class="bi bi-filetype-pdf"></i> Download
                        Report</a>
                </td>
            </tr>
            </tbody>
            {% endfor %}
        </table>

    </div>

</div>
<!--<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>-->

<!--<link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.css"/>-->

<!--<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.js"></script>-->
<!--<script>-->

<!--    $(document).ready(function () {-->
<!--        $('.data-table').DataTable();-->
<!--    });-->
<!--</script>-->
{% endblock %}

